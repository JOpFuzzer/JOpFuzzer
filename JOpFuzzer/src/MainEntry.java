import Mutation.SeedPool;
import Mutation.MutationEntry;
import Preprocess.Config;
import Preprocess.Prepare;
import org.apache.commons.cli.*;

public class MainEntry {
    public static void main(String[] args) throws Exception {
        Options options = new Options();
        options.addOption("jdkPath", true, "the tested jdk path");
        options.addOption("regressionTestPath", true, "the regression test path");
        options.addOption("seedNumber", true, "the seed number generated by JavaFuzzer");
        options.addOption("mutationRound", true, "the mutation round");
        CommandLineParser parser = new DefaultParser();
        CommandLine cmd = parser.parse(options, args);
        Config config = new Config(cmd.getOptionValue("jdkPath"), cmd.getOptionValue("regressionTestPath"));
        Prepare prepare = new Prepare(config);
        prepare.preprocess();//preprocess the seeds and construct the prior knowledge from the regression test
        SeedPool seedPool = new SeedPool(cmd.getOptionValue("seedNumber"), cmd.getOptionValue("jdkPath")); //generate the seed pool
        MutationEntry mutationEntry = new MutationEntry(config.getJdkPath(), seedPool, cmd.getOptionValue("mutationRound"));

    }
}